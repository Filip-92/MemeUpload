<div class="text-center">
    <div class="card mb-3 text-center mt-3">
        <div class="card-img-wrapper">
            <div class="card-body p-1" style="text-align: center;">
                <div class="row">
                    <div class="col-12 text-center">
                        <a routerLink="/meme/{{meme.id}}/{{ convertText(meme.title) || convertText('Jakieś gówno')}}">
                            <h4 class="card-title text-center mb-4 mt-3"> 
                                {{meme.title || 'Jakieś gówno'}}
                            </h4>
                        </a>
                        <div class="row">
                            <div class="col-lg-3"></div>
                            <p class="col-5 col-lg-2 ml-2 text-left" id="timeago" [ngStyle]="(meme.uploaded | timeago).length < 10 ? { 'font-size': '14px' } : { 'font-size': '12px' }">{{meme.uploaded | timeago}}</p>
                            <div class="col-5 col-lg-4"></div>
                            <i class="fa fa-comment mr-2" aria-hidden="true"></i> {{comments}}
                        </div>
                        <span *ngIf="meme.description?.length > 0 && meme.description !== 'null'">
                            <br>         
                            <div id="description" class="text-center" style="padding-top: 10px; padding-bottom: 5px;">
                                <p>{{meme.description}}</p>
                            </div>
                            <br>
                        </span>
                        <div *ngIf="meme?.url?.includes('youtube') && meme?.url?.length < 1000">
                            <iframe width="600" height="400" [src]="trustedUrl | safe" allowfullscreen></iframe>
                        </div>
                        <a routerLink="/meme/{{meme.id}}/{{ convertText(meme?.title) || convertText('Jakieś gówno')}}">
                            <img src="{{meme.url ? meme.url : onErrorFunction()}}" class="card-img-top col-sm-6" onError="this.src='https://memegenerator.net/img/images/14687350.jpg'" *ngIf="checkURL(meme.url) && !meme?.url?.includes('youtube-nocookie') && meme?.url?.length < 1000"/>
                        </a>
                        <!-- <a routerLink="/meme/{{meme.id}}/{{ convertText(meme?.title) || convertText('Jakieś gówno')}}" *ngIf="meme?.url?.length > 1000" class="example">
                            <img [src]="transformImage()" class="card-img-top col-sm-6" *ngIf="meme?.url?.length > 1000 && !meme?.url?.includes('youtube-nocookie')"/>
                            <div class="overlay">
                                <img src="https://res.cloudinary.com/duj1ftjtp/image/upload/v1659042057/logo_gimp_-_new_ucilaf.png" alt="">
                            </div>
                        </a> -->
                        <a routerLink="/meme/{{meme.id}}/{{ convertText(meme?.title) || convertText('Jakieś gówno')}}" *ngIf="meme?.url?.length > 1000" class="example">
                            <!-- <div>
                                <img src="https://res.cloudinary.com/duj1ftjtp/image/upload/v1659042057/logo_gimp_-_new_ucilaf.png" class="card-img-top col-sm-6" *ngIf="!meme?.url?.includes('youtube-nocookie') && meme?.url?.length > 1000" style="background-color: url({{meme.url}});"/>
                            </div> -->
                              <!-- DEMO 1 Item-->
                              <div class="mb-3 mb-lg-0">
                                <div class="hover hover-1 text-white rounded"><img [src]="transformImage()" alt="">
                                  <div class="hover-overlay"></div>
                                  <div class="hover-1-content">
                                    <img src="https://res.cloudinary.com/duj1ftjtp/image/upload/v1659042057/logo_gimp_-_new_ucilaf.png" style="width: 100px; height: 40px; opacity: 0.7; margin-top: -70px; margin-right: -500px;"/>
                                  </div>
                                </div>
                              </div>
                        </a>
                        <video src="{{meme.url}}" class="card-img-top" *ngIf="!checkURL(meme?.url) && !meme?.url?.includes('youtube-nocookie') && meme?.url?.length < 1000" controls></video>
                    </div>
                </div>
            </div>
            <div class="mb-3">
                <div class="row mb-3">
                    <div class="col-1 col-lg-3"></div>
                    <span class="inline text-left">
                        autor: <a class="nav-link" routerLink='/uzytkownicy/{{meme.username}}' style="color: greenyellow !important" class="inline">{{meme.username}}</a>
                    </span>
                </div>
                <button class="btn btn-success mr-2" (click)="addFavourite(meme.id)" [ngStyle]="!favourite ? { 'color': 'white' } : { 'color': 'red', 'background-color': 'yellow' }"><i class="fa fa-thumb-tack" aria-hidden="true"></i></button>
                <button (click)="addLike(meme)" [disabled]="disliked" class="btn btn-success mr-2" [ngStyle]="!liked ? { 'color': 'white' } : { 'color': 'red', 'background-color': 'yellow' }"><i class="fa fa-thumbs-up"></i></button>
                <span class="btn btn-primary mr-2" id="likes" style="min-width: 100px; font-weight: bold;">{{meme.numberOfLikes}}</span>
                <button (click)="addDislike(meme)" [disabled]="liked" class="btn btn-danger" [ngStyle]="!disliked ? { 'color': 'white' } : { 'color': 'red', 'background-color': 'yellow' }"><i class="fa fa-thumbs-down"></i></button>
                <button class="btn btn-warning ml-2 mr-2" (click)="flagAsSpam(meme.id)"><i class="fa fa-flag" aria-hidden="true"></i></button>
            </div>
            <div class="mb-3">
                <button class="btn btn-info mr-2" *ngIf="meme.isMain" (click)="shareMeme()"><i class="fa fa-share mr-2"></i>Share</button>
                <div *ngIf="meme.isMain && shareToggle" style="padding-left: 10px;">
                    <share-buttons theme="modern-dark"
                    [include]="['copy', 'facebook', 'messenger', 'reddit', 'telegram', 'twitter', 'whatsapp']"
                    [showIcon]="true"
                    [showText]="true"
                    [autoSetMeta]="false"
                    [image]="'https://res.cloudinary.com/duj1ftjtp/image/upload/v1659265449/epctjzlewpy4ik1ez88i.jpg'"
                    url="https://ddmemes.herokuapp.com/meme/{{meme.id}}/{{ convertText(meme.title) }}"
                    description="Daily Dose Of Memes - Ty też możesz dać z siebie 30%"
                    title="{{convertText(meme?.title)}}"
                    class="pt-3">
                  </share-buttons>
                </div>
            </div>
        </div>
    </div>
</div>
<div *appHasRole='["Member", "Admin", "Moderator"]' class="mb-5"></div>
<div class="mb-5"></div>